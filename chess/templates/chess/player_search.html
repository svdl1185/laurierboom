<!-- templates/chess/player_search.html -->
{% extends 'chess/base.html' %}

{% block title %}Player Search - De Laurierboom Chess{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1>Player Search Results</h1>
        <p>Search results for: "{{ query }}"</p>
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h2 class="card-title mb-0">Players</h2>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Player</th>
                        <th>In-house Rating</th>
                        <th>FIDE Rating</th>
                        <th>Lichess</th>
                        <th>Chess.com</th>
                    </tr>
                </thead>
                <tbody>
                    {% for player in players %}
                        <tr>
                            <td>
                                <a href="{% url 'player_detail' player.id %}">
                                    {{ player.get_full_name|default:player.username }}
                                </a>
                            </td>
                            <td>{{ player.elo|floatformat:0 }}</td>
                            <td>{{ player.fide_rating|default:"-" }}</td>
                            <td>
                                {% if player.lichess_account %}
                                    <a href="https://lichess.org/@/{{ player.lichess_account }}" target="_blank">
                                        {{ player.lichess_account }}
                                    </a>
                                {% else %}
                                    -
                                {% endif %}
                            </td>
                            <td>
                                {% if player.chesscom_account %}
                                    <a href="https://chess.com/member/{{ player.chesscom_account }}" target="_blank">
                                        {{ player.chesscom_account }}
                                    </a>
                                {% else %}
                                    -
                                {% endif %}
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="5" class="text-center">No players found matching "{{ query }}"</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}